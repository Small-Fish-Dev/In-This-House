@using Sandbox.UI;

@namespace ITH.UI
@inherits PanelComponent
@attribute [StyleSheet]


@{
	// TODO: Spectating!!!!!!!! :(
	var activePlayer = Local.Player;
}

<root>
	<Timer Active="@(MansionGame.Instance.TimerActive)" @Seconds=@( () => (float)MansionGame.Instance.TimeOut )/>
	<MoneyCounter Player=@(activePlayer)/>
	<Interactions Player=@activePlayer />
	<Crosshair>
		<Top>
			<!--Some text on the top-->
		</Top>
		<Middle>
			X
		</Middle>
		<Bottom>
			<!--Some text on the bottom-->
			<InteractionTip Player=@activePlayer />
		</Bottom>
	</Crosshair>
</root>


@code {
	public static HUD Instance;

	public HUD()
	{
		Instance = this;
	}

	protected override void OnDestroy()
	{
		Instance = null;
	}

	protected override int BuildHash()
	{
		return System.HashCode.Combine(Time.Now);
	}

	/// <summary>
	/// For your convenience since HUD is a PanelComponent not a Panel.
	/// </summary>
	/// <param name="panel"></param>
	public void AddChild(Panel panel)
	{
		Panel.AddChild(panel);
	}

}
